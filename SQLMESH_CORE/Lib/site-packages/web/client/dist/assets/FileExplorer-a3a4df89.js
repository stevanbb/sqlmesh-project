import{r as i,ad as _n,ae as An,j as h,a3 as Fn,c as L,V as _t,b as W,v as Ln,g as jn,a as kn,z as Un,L as Hn,S as Bn,m as Gn,R as Kn}from"./index-176b79a9.js";import{u as j,M as ze}from"./project-e6dc9a02.js";import{$ as Z,a as Wn,b as J,_ as N,c as R,d as oe,e as At,f as Se,g as zn,u as Vn,h as qn,o as Xn,s as Yn,l as Qn,i as Zn,j as Jn,k as er,m as tr,n as Te,p as Ft,q as nr,r as Lt,t as rr,v as or,w as sr,x as ir,y as ar}from"./Input-a01139a4.js";import{M as cr}from"./file-d5b08b04.js";import{useFileExplorer as Ie}from"./context-5718240e.js";import{u as jt,S as ur}from"./SearchList-a958facb.js";import{u as Fe}from"./editor-d35a2632.js";import{C as lr}from"./ChevronDownIcon-a0e0a146.js";import{C as dr}from"./ChevronRightIcon-3cb9e6be.js";import"./help-68063aae.js";import"./transition-19ed7834.js";function fr({title:t,titleId:e,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?i.createElement("title",{id:e},t):null,i.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625z"}),i.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"}))}const gr=i.forwardRef(fr),pr=gr;function hr({title:t,titleId:e,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?i.createElement("title",{id:e},t):null,i.createElement("path",{d:"M19.906 9c.382 0 .749.057 1.094.162V9a3 3 0 00-3-3h-3.879a.75.75 0 01-.53-.22L11.47 3.66A2.25 2.25 0 009.879 3H6a3 3 0 00-3 3v3.162A3.756 3.756 0 014.094 9h15.812zM4.094 10.5a2.25 2.25 0 00-2.227 2.568l.857 6A2.25 2.25 0 004.951 21H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-2.227-2.568H4.094z"}))}const mr=i.forwardRef(hr),vr=mr;function br({title:t,titleId:e,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?i.createElement("title",{id:e},t):null,i.createElement("path",{d:"M19.5 21a3 3 0 003-3v-4.5a3 3 0 00-3-3h-15a3 3 0 00-3 3V18a3 3 0 003 3h15zM1.5 10.146V6a3 3 0 013-3h5.379a2.25 2.25 0 011.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 013 3v1.146A4.483 4.483 0 0019.5 9h-15a4.483 4.483 0 00-3 1.146z"}))}const Dr=i.forwardRef(br),Er=Dr,Ve="dismissableLayer.update",$r="dismissableLayer.pointerDownOutside",yr="dismissableLayer.focusOutside";let pt;const xr=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wr=i.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...l}=t,p=i.useContext(xr),[f,g]=i.useState(null),d=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,b]=i.useState({}),m=Z(e,I=>g(I)),y=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(E),O=f?y.indexOf(f):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,F=O>=x,k=Or(I=>{const M=I.target,A=[...p.branches].some($=>$.contains(M));!F||A||(s==null||s(I),c==null||c(I),I.defaultPrevented||u==null||u())},d),T=Cr(I=>{const M=I.target;[...p.branches].some($=>$.contains(M))||(a==null||a(I),c==null||c(I),I.defaultPrevented||u==null||u())},d);return Wn(I=>{O===p.layers.size-1&&(o==null||o(I),!I.defaultPrevented&&u&&(I.preventDefault(),u()))},d),i.useEffect(()=>{if(f)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(pt=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(f)),p.layers.add(f),ht(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=pt)}},[f,d,r,p]),i.useEffect(()=>()=>{f&&(p.layers.delete(f),p.layersWithOutsidePointerEventsDisabled.delete(f),ht())},[f,p]),i.useEffect(()=>{const I=()=>b({});return document.addEventListener(Ve,I),()=>document.removeEventListener(Ve,I)},[]),i.createElement(J.div,N({},l,{ref:m,style:{pointerEvents:C?F?"auto":"none":void 0,...t.style},onFocusCapture:R(t.onFocusCapture,T.onFocusCapture),onBlurCapture:R(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:R(t.onPointerDownCapture,k.onPointerDownCapture)}))});function Or(t,e=globalThis==null?void 0:globalThis.document){const n=oe(t),r=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let l=function(){kt($r,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Cr(t,e=globalThis==null?void 0:globalThis.document){const n=oe(t),r=i.useRef(!1);return i.useEffect(()=>{const o=s=>{s.target&&!r.current&&kt(yr,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ht(){const t=new CustomEvent(Ve);document.dispatchEvent(t)}function kt(t,e,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?At(o,s):o.dispatchEvent(s)}const Le="focusScope.autoFocusOnMount",je="focusScope.autoFocusOnUnmount",mt={bubbles:!1,cancelable:!0},Tr=i.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...a}=t,[c,u]=i.useState(null),l=oe(o),p=oe(s),f=i.useRef(null),g=Z(e,m=>u(m)),d=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(r){let m=function(O){if(d.paused||!c)return;const C=O.target;c.contains(C)?f.current=C:ne(f.current,{select:!0})},y=function(O){if(d.paused||!c)return;const C=O.relatedTarget;C!==null&&(c.contains(C)||ne(f.current,{select:!0}))},E=function(O){if(document.activeElement===document.body)for(const F of O)F.removedNodes.length>0&&ne(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const x=new MutationObserver(E);return c&&x.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),x.disconnect()}}},[r,c,d.paused]),i.useEffect(()=>{if(c){bt.add(d);const m=document.activeElement;if(!c.contains(m)){const E=new CustomEvent(Le,mt);c.addEventListener(Le,l),c.dispatchEvent(E),E.defaultPrevented||(Sr(Mr(Ut(c)),{select:!0}),document.activeElement===m&&ne(c))}return()=>{c.removeEventListener(Le,l),setTimeout(()=>{const E=new CustomEvent(je,mt);c.addEventListener(je,p),c.dispatchEvent(E),E.defaultPrevented||ne(m??document.body,{select:!0}),c.removeEventListener(je,p),bt.remove(d)},0)}}},[c,l,p,d]);const b=i.useCallback(m=>{if(!n&&!r||d.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,E=document.activeElement;if(y&&E){const x=m.currentTarget,[O,C]=Ir(x);O&&C?!m.shiftKey&&E===C?(m.preventDefault(),n&&ne(O,{select:!0})):m.shiftKey&&E===O&&(m.preventDefault(),n&&ne(C,{select:!0})):E===x&&m.preventDefault()}},[n,r,d.paused]);return i.createElement(J.div,N({tabIndex:-1},a,{ref:g,onKeyDown:b}))});function Sr(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ne(r,{select:e}),document.activeElement!==n)return}function Ir(t){const e=Ut(t),n=vt(e,t),r=vt(e.reverse(),t);return[n,r]}function Ut(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vt(t,e){for(const n of t)if(!Pr(n,{upTo:e}))return n}function Pr(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rr(t){return t instanceof HTMLInputElement&&"select"in t}function ne(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Rr(t)&&e&&t.select()}}const bt=Nr();function Nr(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Dt(t,e),t.unshift(e)},remove(e){var n;t=Dt(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function Dt(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Mr(t){return t.filter(e=>e.tagName!=="A")}const Ht="Popper",[Bt,Gt]=Se(Ht),[_r,Kt]=Bt(Ht),Ar=t=>{const{__scopePopper:e,children:n}=t,[r,o]=i.useState(null);return i.createElement(_r,{scope:e,anchor:r,onAnchorChange:o},n)},Fr="PopperAnchor",Lr=i.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,s=Kt(Fr,n),a=i.useRef(null),c=Z(e,a);return i.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:i.createElement(J.div,N({},o,{ref:c}))}),Wt="PopperContent",[jr,_a]=Bt(Wt),kr=i.forwardRef((t,e)=>{var n,r,o,s,a,c,u,l;const{__scopePopper:p,side:f="bottom",sideOffset:g=0,align:d="center",alignOffset:b=0,arrowPadding:m=0,avoidCollisions:y=!0,collisionBoundary:E=[],collisionPadding:x=0,sticky:O="partial",hideWhenDetached:C=!1,updatePositionStrategy:F="optimized",onPlaced:k,...T}=t,I=Kt(Wt,p),[M,A]=i.useState(null),$=Z(e,pe=>A(pe)),[P,X]=i.useState(null),U=zn(P),H=(n=U==null?void 0:U.width)!==null&&n!==void 0?n:0,le=(r=U==null?void 0:U.height)!==null&&r!==void 0?r:0,K=f+(d!=="center"?"-"+d:""),D=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},v=Array.isArray(E)?E:[E],S=v.length>0,_={padding:D,boundary:v.filter(Ur),altBoundary:S},{refs:B,floatingStyles:ee,placement:ge,isPositioned:se,middlewareData:q}=Vn({strategy:"fixed",placement:K,whileElementsMounted:(...pe)=>qn(...pe,{animationFrame:F==="always"}),elements:{reference:I.anchor},middleware:[Xn({mainAxis:g+le,alignmentAxis:b}),y&&Yn({mainAxis:!0,crossAxis:!1,limiter:O==="partial"?Qn():void 0,..._}),y&&Zn({..._}),Jn({..._,apply:({elements:pe,rects:gt,availableWidth:Pn,availableHeight:Rn})=>{const{width:Nn,height:Mn}=gt.reference,$e=pe.floating.style;$e.setProperty("--radix-popper-available-width",`${Pn}px`),$e.setProperty("--radix-popper-available-height",`${Rn}px`),$e.setProperty("--radix-popper-anchor-width",`${Nn}px`),$e.setProperty("--radix-popper-anchor-height",`${Mn}px`)}}),P&&er({element:P,padding:m}),Hr({arrowWidth:H,arrowHeight:le}),C&&tr({strategy:"referenceHidden",..._})]}),[te,De]=zt(ge),G=oe(k);Te(()=>{se&&(G==null||G())},[se,G]);const Ee=(o=q.arrow)===null||o===void 0?void 0:o.x,Cn=(s=q.arrow)===null||s===void 0?void 0:s.y,Tn=((a=q.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[Sn,In]=i.useState();return Te(()=>{M&&In(window.getComputedStyle(M).zIndex)},[M]),i.createElement("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:se?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Sn,"--radix-popper-transform-origin":[(c=q.transformOrigin)===null||c===void 0?void 0:c.x,(u=q.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:t.dir},i.createElement(jr,{scope:p,placedSide:te,onArrowChange:X,arrowX:Ee,arrowY:Cn,shouldHideArrow:Tn},i.createElement(J.div,N({"data-side":te,"data-align":De},T,{ref:$,style:{...T.style,animation:se?void 0:"none",opacity:(l=q.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}}))))});function Ur(t){return t!==null}const Hr=t=>({name:"transformOrigin",options:t,fn(e){var n,r,o,s,a;const{placement:c,rects:u,middlewareData:l}=e,f=((n=l.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,g=f?0:t.arrowWidth,d=f?0:t.arrowHeight,[b,m]=zt(c),y={start:"0%",center:"50%",end:"100%"}[m],E=((r=(o=l.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+g/2,x=((s=(a=l.arrow)===null||a===void 0?void 0:a.y)!==null&&s!==void 0?s:0)+d/2;let O="",C="";return b==="bottom"?(O=f?y:`${E}px`,C=`${-d}px`):b==="top"?(O=f?y:`${E}px`,C=`${u.floating.height+d}px`):b==="right"?(O=`${-d}px`,C=f?y:`${x}px`):b==="left"&&(O=`${u.floating.width+d}px`,C=f?y:`${x}px`),{data:{x:O,y:C}}}});function zt(t){const[e,n="center"]=t.split("-");return[e,n]}const Br=Ar,Gr=Lr,Kr=kr,Wr=i.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=t;return r?_n.createPortal(i.createElement(J.div,N({},o,{ref:e})),r):null});function zr(t,e){return i.useReducer((n,r)=>{const o=e[n][r];return o??n},t)}const rt=t=>{const{present:e,children:n}=t,r=Vr(e),o=typeof n=="function"?n({present:r.isPresent}):i.Children.only(n),s=Z(r.ref,o.ref);return typeof n=="function"||r.isPresent?i.cloneElement(o,{ref:s}):null};rt.displayName="Presence";function Vr(t){const[e,n]=i.useState(),r=i.useRef({}),o=i.useRef(t),s=i.useRef("none"),a=t?"mounted":"unmounted",[c,u]=zr(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const l=ye(r.current);s.current=c==="mounted"?l:"none"},[c]),Te(()=>{const l=r.current,p=o.current;if(p!==t){const g=s.current,d=ye(l);t?u("MOUNT"):d==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(p&&g!==d?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,u]),Te(()=>{if(e){const l=f=>{const d=ye(r.current).includes(f.animationName);f.target===e&&d&&An.flushSync(()=>u("ANIMATION_END"))},p=f=>{f.target===e&&(s.current=ye(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",l),e.addEventListener("animationend",l),()=>{e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",l),e.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function ye(t){return(t==null?void 0:t.animationName)||"none"}const ke="rovingFocusGroup.onEntryFocus",qr={bubbles:!1,cancelable:!0},ot="RovingFocusGroup",[qe,Vt,Xr]=Ft(ot),[Yr,qt]=Se(ot,[Xr]),[Qr,Zr]=Yr(ot),Jr=i.forwardRef((t,e)=>i.createElement(qe.Provider,{scope:t.__scopeRovingFocusGroup},i.createElement(qe.Slot,{scope:t.__scopeRovingFocusGroup},i.createElement(eo,N({},t,{ref:e}))))),eo=i.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:l,...p}=t,f=i.useRef(null),g=Z(e,f),d=Lt(s),[b=null,m]=rr({prop:a,defaultProp:c,onChange:u}),[y,E]=i.useState(!1),x=oe(l),O=Vt(n),C=i.useRef(!1),[F,k]=i.useState(0);return i.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(ke,x),()=>T.removeEventListener(ke,x)},[x]),i.createElement(Qr,{scope:n,orientation:r,dir:d,loop:o,currentTabStopId:b,onItemFocus:i.useCallback(T=>m(T),[m]),onItemShiftTab:i.useCallback(()=>E(!0),[]),onFocusableItemAdd:i.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:i.useCallback(()=>k(T=>T-1),[])},i.createElement(J.div,N({tabIndex:y||F===0?-1:0,"data-orientation":r},p,{ref:g,style:{outline:"none",...t.style},onMouseDown:R(t.onMouseDown,()=>{C.current=!0}),onFocus:R(t.onFocus,T=>{const I=!C.current;if(T.target===T.currentTarget&&I&&!y){const M=new CustomEvent(ke,qr);if(T.currentTarget.dispatchEvent(M),!M.defaultPrevented){const A=O().filter(H=>H.focusable),$=A.find(H=>H.active),P=A.find(H=>H.id===b),U=[$,P,...A].filter(Boolean).map(H=>H.ref.current);Xt(U)}}C.current=!1}),onBlur:R(t.onBlur,()=>E(!1))})))}),to="RovingFocusGroupItem",no=i.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...a}=t,c=nr(),u=s||c,l=Zr(to,n),p=l.currentTabStopId===u,f=Vt(n),{onFocusableItemAdd:g,onFocusableItemRemove:d}=l;return i.useEffect(()=>{if(r)return g(),()=>d()},[r,g,d]),i.createElement(qe.ItemSlot,{scope:n,id:u,focusable:r,active:o},i.createElement(J.span,N({tabIndex:p?0:-1,"data-orientation":l.orientation},a,{ref:e,onMouseDown:R(t.onMouseDown,b=>{r?l.onItemFocus(u):b.preventDefault()}),onFocus:R(t.onFocus,()=>l.onItemFocus(u)),onKeyDown:R(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){l.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const m=so(b,l.orientation,l.dir);if(m!==void 0){b.preventDefault();let E=f().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")E.reverse();else if(m==="prev"||m==="next"){m==="prev"&&E.reverse();const x=E.indexOf(b.currentTarget);E=l.loop?io(E,x+1):E.slice(x+1)}setTimeout(()=>Xt(E))}})})))}),ro={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oo(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function so(t,e,n){const r=oo(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ro[r]}function Xt(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function io(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const ao=Jr,co=no,uo=["Enter"," "],lo=["ArrowDown","PageUp","Home"],Yt=["ArrowUp","PageDown","End"],fo=[...lo,...Yt],Pe="Menu",[Xe,go,po]=Ft(Pe),[ce,Qt]=Se(Pe,[po,Gt,qt]),st=Gt(),Zt=qt(),[ho,ve]=ce(Pe),[mo,it]=ce(Pe),vo=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:o,onOpenChange:s,modal:a=!0}=t,c=st(e),[u,l]=i.useState(null),p=i.useRef(!1),f=oe(s),g=Lt(o);return i.useEffect(()=>{const d=()=>{p.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>p.current=!1;return document.addEventListener("keydown",d,{capture:!0}),()=>{document.removeEventListener("keydown",d,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),i.createElement(Br,c,i.createElement(ho,{scope:e,open:n,onOpenChange:f,content:u,onContentChange:l},i.createElement(mo,{scope:e,onClose:i.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:p,dir:g,modal:a},r)))},bo=i.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=st(n);return i.createElement(Gr,N({},o,r,{ref:e}))}),Jt="MenuPortal",[Do,Eo]=ce(Jt,{forceMount:void 0}),$o=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:o}=t,s=ve(Jt,e);return i.createElement(Do,{scope:e,forceMount:n},i.createElement(rt,{present:n||s.open},i.createElement(Wr,{asChild:!0,container:o},r)))},re="MenuContent",[yo,en]=ce(re),xo=i.forwardRef((t,e)=>{const n=Eo(re,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,s=ve(re,t.__scopeMenu),a=it(re,t.__scopeMenu);return i.createElement(Xe.Provider,{scope:t.__scopeMenu},i.createElement(rt,{present:r||s.open},i.createElement(Xe.Slot,{scope:t.__scopeMenu},a.modal?i.createElement(wo,N({},o,{ref:e})):i.createElement(Oo,N({},o,{ref:e})))))}),wo=i.forwardRef((t,e)=>{const n=ve(re,t.__scopeMenu),r=i.useRef(null),o=Z(e,r);return i.useEffect(()=>{const s=r.current;if(s)return or(s)},[]),i.createElement(tn,N({},t,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:R(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Oo=i.forwardRef((t,e)=>{const n=ve(re,t.__scopeMenu);return i.createElement(tn,N({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),tn=i.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:l,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:g,onDismiss:d,disableOutsideScroll:b,...m}=t,y=ve(re,n),E=it(re,n),x=st(n),O=Zt(n),C=go(n),[F,k]=i.useState(null),T=i.useRef(null),I=Z(e,T,y.onContentChange),M=i.useRef(0),A=i.useRef(""),$=i.useRef(0),P=i.useRef(null),X=i.useRef("right"),U=i.useRef(0),H=b?ir:i.Fragment,le=b?{as:ar,allowPinchZoom:!0}:void 0,K=v=>{var S,_;const B=A.current+v,ee=C().filter(G=>!G.disabled),ge=document.activeElement,se=(S=ee.find(G=>G.ref.current===ge))===null||S===void 0?void 0:S.textValue,q=ee.map(G=>G.textValue),te=Ao(q,B,se),De=(_=ee.find(G=>G.textValue===te))===null||_===void 0?void 0:_.ref.current;(function G(Ee){A.current=Ee,window.clearTimeout(M.current),Ee!==""&&(M.current=window.setTimeout(()=>G(""),1e3))})(B),De&&setTimeout(()=>De.focus())};i.useEffect(()=>()=>window.clearTimeout(M.current),[]),sr();const D=i.useCallback(v=>{var S,_;return X.current===((S=P.current)===null||S===void 0?void 0:S.side)&&Lo(v,(_=P.current)===null||_===void 0?void 0:_.area)},[]);return i.createElement(yo,{scope:n,searchRef:A,onItemEnter:i.useCallback(v=>{D(v)&&v.preventDefault()},[D]),onItemLeave:i.useCallback(v=>{var S;D(v)||((S=T.current)===null||S===void 0||S.focus(),k(null))},[D]),onTriggerLeave:i.useCallback(v=>{D(v)&&v.preventDefault()},[D]),pointerGraceTimerRef:$,onPointerGraceIntentChange:i.useCallback(v=>{P.current=v},[])},i.createElement(H,le,i.createElement(Tr,{asChild:!0,trapped:o,onMountAutoFocus:R(s,v=>{var S;v.preventDefault(),(S=T.current)===null||S===void 0||S.focus()}),onUnmountAutoFocus:a},i.createElement(wr,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:g,onDismiss:d},i.createElement(ao,N({asChild:!0},O,{dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:k,onEntryFocus:R(u,v=>{E.isUsingKeyboardRef.current||v.preventDefault()})}),i.createElement(Kr,N({role:"menu","aria-orientation":"vertical","data-state":No(y.open),"data-radix-menu-content":"",dir:E.dir},x,m,{ref:I,style:{outline:"none",...m.style},onKeyDown:R(m.onKeyDown,v=>{const _=v.target.closest("[data-radix-menu-content]")===v.currentTarget,B=v.ctrlKey||v.altKey||v.metaKey,ee=v.key.length===1;_&&(v.key==="Tab"&&v.preventDefault(),!B&&ee&&K(v.key));const ge=T.current;if(v.target!==ge||!fo.includes(v.key))return;v.preventDefault();const q=C().filter(te=>!te.disabled).map(te=>te.ref.current);Yt.includes(v.key)&&q.reverse(),Mo(q)}),onBlur:R(t.onBlur,v=>{v.currentTarget.contains(v.target)||(window.clearTimeout(M.current),A.current="")}),onPointerMove:R(t.onPointerMove,Qe(v=>{const S=v.target,_=U.current!==v.clientX;if(v.currentTarget.contains(S)&&_){const B=v.clientX>U.current?"right":"left";X.current=B,U.current=v.clientX}}))})))))))}),Ye="MenuItem",Et="menu.itemSelect",Co=i.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...o}=t,s=i.useRef(null),a=it(Ye,t.__scopeMenu),c=en(Ye,t.__scopeMenu),u=Z(e,s),l=i.useRef(!1),p=()=>{const f=s.current;if(!n&&f){const g=new CustomEvent(Et,{bubbles:!0,cancelable:!0});f.addEventListener(Et,d=>r==null?void 0:r(d),{once:!0}),At(f,g),g.defaultPrevented?l.current=!1:a.onClose()}};return i.createElement(To,N({},o,{ref:u,disabled:n,onClick:R(t.onClick,p),onPointerDown:f=>{var g;(g=t.onPointerDown)===null||g===void 0||g.call(t,f),l.current=!0},onPointerUp:R(t.onPointerUp,f=>{var g;l.current||(g=f.currentTarget)===null||g===void 0||g.click()}),onKeyDown:R(t.onKeyDown,f=>{const g=c.searchRef.current!=="";n||g&&f.key===" "||uo.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),To=i.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=t,a=en(Ye,n),c=Zt(n),u=i.useRef(null),l=Z(e,u),[p,f]=i.useState(!1),[g,d]=i.useState("");return i.useEffect(()=>{const b=u.current;if(b){var m;d(((m=b.textContent)!==null&&m!==void 0?m:"").trim())}},[s.children]),i.createElement(Xe.ItemSlot,{scope:n,disabled:r,textValue:o??g},i.createElement(co,N({asChild:!0},c,{focusable:!r}),i.createElement(J.div,N({role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s,{ref:l,onPointerMove:R(t.onPointerMove,Qe(b=>{r?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus())})),onPointerLeave:R(t.onPointerLeave,Qe(b=>a.onItemLeave(b))),onFocus:R(t.onFocus,()=>f(!0)),onBlur:R(t.onBlur,()=>f(!1))}))))}),So="MenuRadioGroup";ce(So,{value:void 0,onValueChange:()=>{}});const Io="MenuItemIndicator";ce(Io,{checked:!1});const Po=i.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return i.createElement(J.div,N({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),Ro="MenuSub";ce(Ro);function No(t){return t?"open":"closed"}function Mo(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function _o(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Ao(t,e,n){const o=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=_o(t,Math.max(s,0));o.length===1&&(a=a.filter(l=>l!==n));const u=a.find(l=>l.toLowerCase().startsWith(o.toLowerCase()));return u!==n?u:void 0}function Fo(t,e){const{x:n,y:r}=t;let o=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const c=e[s].x,u=e[s].y,l=e[a].x,p=e[a].y;u>r!=p>r&&n<(l-c)*(r-u)/(p-u)+c&&(o=!o)}return o}function Lo(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Fo(n,e)}function Qe(t){return e=>e.pointerType==="mouse"?t(e):void 0}const jo=vo,ko=bo,Uo=$o,Ho=xo,Bo=Co,Go=Po,nn="ContextMenu",[Ko,Aa]=Se(nn,[Qt]),fe=Qt(),[Wo,rn]=Ko(nn),zo=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,dir:o,modal:s=!0}=t,[a,c]=i.useState(!1),u=fe(e),l=oe(r),p=i.useCallback(f=>{c(f),l(f)},[l]);return i.createElement(Wo,{scope:e,open:a,onOpenChange:p,modal:s},i.createElement(jo,N({},u,{dir:o,open:a,onOpenChange:p,modal:s}),n))},Vo="ContextMenuTrigger",qo=i.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...o}=t,s=rn(Vo,n),a=fe(n),c=i.useRef({x:0,y:0}),u=i.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...c.current})}),l=i.useRef(0),p=i.useCallback(()=>window.clearTimeout(l.current),[]),f=g=>{c.current={x:g.clientX,y:g.clientY},s.onOpenChange(!0)};return i.useEffect(()=>p,[p]),i.useEffect(()=>void(r&&p()),[r,p]),i.createElement(i.Fragment,null,i.createElement(ko,N({},a,{virtualRef:u})),i.createElement(J.span,N({"data-state":s.open?"open":"closed","data-disabled":r?"":void 0},o,{ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:R(t.onContextMenu,g=>{p(),f(g),g.preventDefault()}),onPointerDown:r?t.onPointerDown:R(t.onPointerDown,xe(g=>{p(),l.current=window.setTimeout(()=>f(g),700)})),onPointerMove:r?t.onPointerMove:R(t.onPointerMove,xe(p)),onPointerCancel:r?t.onPointerCancel:R(t.onPointerCancel,xe(p)),onPointerUp:r?t.onPointerUp:R(t.onPointerUp,xe(p))})))}),Xo=t=>{const{__scopeContextMenu:e,...n}=t,r=fe(e);return i.createElement(Uo,N({},r,n))},Yo="ContextMenuContent",Qo=i.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=rn(Yo,n),s=fe(n),a=i.useRef(!1);return i.createElement(Ho,N({},s,r,{ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:c=>{var u;(u=t.onCloseAutoFocus)===null||u===void 0||u.call(t,c),!c.defaultPrevented&&a.current&&c.preventDefault(),a.current=!1},onInteractOutside:c=>{var u;(u=t.onInteractOutside)===null||u===void 0||u.call(t,c),!c.defaultPrevented&&!o.modal&&(a.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Zo=i.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=fe(n);return i.createElement(Bo,N({},o,r,{ref:e}))}),Jo=i.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=fe(n);return i.createElement(Go,N({},o,r,{ref:e}))});function xe(t){return e=>e.pointerType!=="mouse"?t(e):void 0}const es=zo,ts=qo,ns=Xo,rs=Qo,Y=Zo,$t=Jo,on=i.createContext({dragDropManager:void 0});function z(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var yt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ue=function(){return Math.random().toString(36).substring(7).split("").join(".")},xt={INIT:"@@redux/INIT"+Ue(),REPLACE:"@@redux/REPLACE"+Ue(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ue()}};function os(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function sn(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(z(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(z(1));return n(sn)(t,e)}if(typeof t!="function")throw new Error(z(2));var o=t,s=e,a=[],c=a,u=!1;function l(){c===a&&(c=a.slice())}function p(){if(u)throw new Error(z(3));return s}function f(m){if(typeof m!="function")throw new Error(z(4));if(u)throw new Error(z(5));var y=!0;return l(),c.push(m),function(){if(y){if(u)throw new Error(z(6));y=!1,l();var x=c.indexOf(m);c.splice(x,1),a=null}}}function g(m){if(!os(m))throw new Error(z(7));if(typeof m.type>"u")throw new Error(z(8));if(u)throw new Error(z(9));try{u=!0,s=o(s,m)}finally{u=!1}for(var y=a=c,E=0;E<y.length;E++){var x=y[E];x()}return m}function d(m){if(typeof m!="function")throw new Error(z(10));o=m,g({type:xt.REPLACE})}function b(){var m,y=f;return m={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(z(11));function O(){x.next&&x.next(p())}O();var C=y(O);return{unsubscribe:C}}},m[yt]=function(){return this},m}return g({type:xt.INIT}),r={dispatch:g,subscribe:f,getState:p,replaceReducer:d},r[yt]=b,r}function w(t,e,...n){if(ss()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;r=new Error(e.replace(/%s/g,function(){return n[o++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function ss(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function is(t,e,n){return e.split(".").reduce((r,o)=>r&&r[o]?r[o]:n||null,t)}function as(t,e){return t.filter(n=>n!==e)}function an(t){return typeof t=="object"}function cs(t,e){const n=new Map,r=s=>{n.set(s,n.has(s)?n.get(s)+1:1)};t.forEach(r),e.forEach(r);const o=[];return n.forEach((s,a)=>{s===1&&o.push(a)}),o}function us(t,e){return t.filter(n=>e.indexOf(n)>-1)}const at="dnd-core/INIT_COORDS",Re="dnd-core/BEGIN_DRAG",ct="dnd-core/PUBLISH_DRAG_SOURCE",Ne="dnd-core/HOVER",Me="dnd-core/DROP",_e="dnd-core/END_DRAG";function wt(t,e){return{type:at,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const ls={type:at,payload:{clientOffset:null,sourceClientOffset:null}};function ds(t){return function(n=[],r={publishSource:!0}){const{publishSource:o=!0,clientOffset:s,getSourceClientOffset:a}=r,c=t.getMonitor(),u=t.getRegistry();t.dispatch(wt(s)),fs(n,c,u);const l=hs(n,c);if(l==null){t.dispatch(ls);return}let p=null;if(s){if(!a)throw new Error("getSourceClientOffset must be defined");gs(a),p=a(l)}t.dispatch(wt(s,p));const g=u.getSource(l).beginDrag(c,l);if(g==null)return;ps(g),u.pinSource(l);const d=u.getSourceType(l);return{type:Re,payload:{itemType:d,item:g,sourceId:l,clientOffset:s||null,sourceClientOffset:p||null,isSourcePublic:!!o}}}}function fs(t,e,n){w(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){w(n.getSource(r),"Expected sourceIds to be registered.")})}function gs(t){w(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function ps(t){w(an(t),"Item must be an object.")}function hs(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function ms(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){ms(t,o,n[o])})}return t}function bs(t){return function(n={}){const r=t.getMonitor(),o=t.getRegistry();Ds(r),ys(r).forEach((a,c)=>{const u=Es(a,c,o,r),l={type:Me,payload:{dropResult:vs({},n,u)}};t.dispatch(l)})}}function Ds(t){w(t.isDragging(),"Cannot call drop while not dragging."),w(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Es(t,e,n,r){const o=n.getTarget(t);let s=o?o.drop(r,t):void 0;return $s(s),typeof s>"u"&&(s=e===0?{}:r.getDropResult()),s}function $s(t){w(typeof t>"u"||an(t),"Drop result must either be an object or undefined.")}function ys(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function xs(t){return function(){const n=t.getMonitor(),r=t.getRegistry();ws(n);const o=n.getSourceId();return o!=null&&(r.getSource(o,!0).endDrag(n,o),r.unpinSource()),{type:_e}}}function ws(t){w(t.isDragging(),"Cannot call endDrag while not dragging.")}function Ze(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function Os(t){return function(n,{clientOffset:r}={}){Cs(n);const o=n.slice(0),s=t.getMonitor(),a=t.getRegistry(),c=s.getItemType();return Ss(o,a,c),Ts(o,s,a),Is(o,s,a),{type:Ne,payload:{targetIds:o,clientOffset:r||null}}}}function Cs(t){w(Array.isArray(t),"Expected targetIds to be an array.")}function Ts(t,e,n){w(e.isDragging(),"Cannot call hover while not dragging."),w(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const o=t[r];w(t.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");const s=n.getTarget(o);w(s,"Expected targetIds to be registered.")}}function Ss(t,e,n){for(let r=t.length-1;r>=0;r--){const o=t[r],s=e.getTargetType(o);Ze(s,n)||t.splice(r,1)}}function Is(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function Ps(t){return function(){if(t.getMonitor().isDragging())return{type:ct}}}function Rs(t){return{beginDrag:ds(t),publishDragSource:Ps(t),hover:Os(t),drop:bs(t),endDrag:xs(t)}}class Ns{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(s){return(...a)=>{const c=s.apply(e,a);typeof c<"u"&&n(c)}}const o=Rs(this);return Object.keys(o).reduce((s,a)=>{const c=o[a];return s[a]=r(c),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function Ms(t,e){return{x:t.x+e.x,y:t.y+e.y}}function cn(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _s(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:cn(Ms(e,r),n)}function As(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:cn(e,n)}const he=[],ut=[];he.__IS_NONE__=!0;ut.__IS_ALL__=!0;function Fs(t,e){return t===he?!1:t===ut||typeof e>"u"?!0:us(e,t).length>0}class Ls{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;w(typeof e=="function","listener must be a function."),w(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const s=()=>{const a=this.store.getState(),c=a.stateId;try{c===o||c===o+1&&!Fs(a.dirtyHandlerIds,r)||e()}finally{o=c}};return this.store.subscribe(s)}subscribeToOffsetChange(e){w(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return w(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(w(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),o=this.getItemType();return Ze(r,o)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(w(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),o=this.getItemType();return r!==o?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),s=this.getItemType();if(s&&!Ze(o,s))return!1;const a=this.getTargetIds();if(!a.length)return!1;const c=a.indexOf(e);return r?c===a.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return _s(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return As(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const Ot=typeof global<"u"?global:self,un=Ot.MutationObserver||Ot.WebKitMutationObserver;function ln(t){return function(){const n=setTimeout(o,0),r=setInterval(o,50);function o(){clearTimeout(n),clearInterval(r),t()}}}function js(t){let e=1;const n=new un(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const ks=typeof un=="function"?js:ln;class Us{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,o=e.length-this.index;r<o;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=ks(this.flush),this.requestErrorThrow=ln(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Hs{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class Bs{create(e){const n=this.freeTasks,r=n.length?n.pop():new Hs(this.onError,o=>n[n.length]=o);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const dn=new Us,Gs=new Bs(dn.registerPendingError);function Ks(t){dn.enqueueTask(Gs.create(t))}const lt="dnd-core/ADD_SOURCE",dt="dnd-core/ADD_TARGET",ft="dnd-core/REMOVE_SOURCE",Ae="dnd-core/REMOVE_TARGET";function Ws(t){return{type:lt,payload:{sourceId:t}}}function zs(t){return{type:dt,payload:{targetId:t}}}function Vs(t){return{type:ft,payload:{sourceId:t}}}function qs(t){return{type:Ae,payload:{targetId:t}}}function Xs(t){w(typeof t.canDrag=="function","Expected canDrag to be a function."),w(typeof t.beginDrag=="function","Expected beginDrag to be a function."),w(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Ys(t){w(typeof t.canDrop=="function","Expected canDrop to be a function."),w(typeof t.hover=="function","Expected hover to be a function."),w(typeof t.drop=="function","Expected beginDrag to be a function.")}function Je(t,e){if(e&&Array.isArray(t)){t.forEach(n=>Je(n,!1));return}w(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var V;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(V||(V={}));let Qs=0;function Zs(){return Qs++}function Js(t){const e=Zs().toString();switch(t){case V.SOURCE:return`S${e}`;case V.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Ct(t){switch(t[0]){case"S":return V.SOURCE;case"T":return V.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Tt(t,e){const n=t.entries();let r=!1;do{const{done:o,value:[,s]}=n.next();if(s===e)return!0;r=!!o}while(!r);return!1}class ei{addSource(e,n){Je(e),Xs(n);const r=this.addHandler(V.SOURCE,e,n);return this.store.dispatch(Ws(r)),r}addTarget(e,n){Je(e,!0),Ys(n);const r=this.addHandler(V.TARGET,e,n);return this.store.dispatch(zs(r)),r}containsHandler(e){return Tt(this.dragSources,e)||Tt(this.dropTargets,e)}getSource(e,n=!1){return w(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return w(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return w(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return w(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Ct(e)===V.SOURCE}isTargetId(e){return Ct(e)===V.TARGET}removeSource(e){w(this.getSource(e),"Expected an existing source."),this.store.dispatch(Vs(e)),Ks(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){w(this.getTarget(e),"Expected an existing target."),this.store.dispatch(qs(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);w(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){w(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const o=Js(e);return this.types.set(o,n),e===V.SOURCE?this.dragSources.set(o,r):e===V.TARGET&&this.dropTargets.set(o,r),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const ti=(t,e)=>t===e;function ni(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function ri(t,e,n=ti){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function oi(t=he,e){switch(e.type){case Ne:break;case lt:case dt:case Ae:case ft:return he;case Re:case ct:case _e:case Me:default:return ut}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,o=cs(n,r);if(!(o.length>0||!ri(n,r)))return he;const a=r[r.length-1],c=n[n.length-1];return a!==c&&(a&&o.push(a),c&&o.push(c)),o}function si(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){si(t,o,n[o])})}return t}const St={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ai(t=St,e){const{payload:n}=e;switch(e.type){case at:case Re:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Ne:return ni(t.clientOffset,n.clientOffset)?t:ii({},t,{clientOffset:n.clientOffset});case _e:case Me:return St;default:return t}}function ci(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){ci(t,o,n[o])})}return t}const ui={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function li(t=ui,e){const{payload:n}=e;switch(e.type){case Re:return de({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case ct:return de({},t,{isSourcePublic:!0});case Ne:return de({},t,{targetIds:n.targetIds});case Ae:return t.targetIds.indexOf(n.targetId)===-1?t:de({},t,{targetIds:as(t.targetIds,n.targetId)});case Me:return de({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case _e:return de({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function di(t=0,e){switch(e.type){case lt:case dt:return t+1;case ft:case Ae:return t-1;default:return t}}function fi(t=0){return t+1}function gi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){gi(t,o,n[o])})}return t}function hi(t={},e){return{dirtyHandlerIds:oi(t.dirtyHandlerIds,{type:e.type,payload:pi({},e.payload,{prevTargetIds:is(t,"dragOperation.targetIds",[])})}),dragOffset:ai(t.dragOffset,e),refCount:di(t.refCount,e),dragOperation:li(t.dragOperation,e),stateId:fi(t.stateId)}}function mi(t,e=void 0,n={},r=!1){const o=vi(r),s=new Ls(o,new ei(o)),a=new Ns(o,s),c=t(a,e,n);return a.receiveBackend(c),a}function vi(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return sn(hi,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function bi(t,e){if(t==null)return{};var n=Di(t,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Di(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}let It=0;const Ce=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Ei=i.memo(function(e){var{children:n}=e,r=bi(e,["children"]);const[o,s]=$i(r);return i.useEffect(()=>{if(s){const a=fn();return++It,()=>{--It===0&&(a[Ce]=null)}}},[]),h.jsx(on.Provider,{value:o,children:n})});function $i(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=yi(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function yi(t,e=fn(),n,r){const o=e;return o[Ce]||(o[Ce]={dragDropManager:mi(t,e,n,r)}),o[Ce]}function fn(){return typeof global<"u"?global:window}var xi=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var a=s[o];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const wi=Fn(xi),ie=typeof window<"u"?i.useLayoutEffect:i.useEffect;function gn(t,e,n){const[r,o]=i.useState(()=>e(t)),s=i.useCallback(()=>{const a=e(t);wi(r,a)||(o(a),n&&n())},[r,t,n]);return ie(s),[r,s]}function Oi(t,e,n){const[r,o]=gn(t,e,n);return ie(function(){const a=t.getHandlerId();if(a!=null)return t.subscribeToStateChange(o,{handlerIds:[a]})},[t,o]),r}function pn(t,e,n){return Oi(e,t||(()=>({})),()=>n.reconnect())}function hn(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),i.useMemo(()=>typeof t=="function"?t():t,n)}function Ci(t){return i.useMemo(()=>t.hooks.dragSource(),[t])}function Ti(t){return i.useMemo(()=>t.hooks.dragPreview(),[t])}let He=!1,Be=!1;class Si{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){w(!He,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return He=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{He=!1}}isDragging(){if(!this.sourceId)return!1;w(!Be,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Be=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Be=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Ge=!1;class Ii{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;w(!Ge,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ge=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ge=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Pi(t,e,n){const r=n.getRegistry(),o=r.addTarget(t,e);return[o,()=>r.removeTarget(o)]}function Ri(t,e,n){const r=n.getRegistry(),o=r.addSource(t,e);return[o,()=>r.removeSource(o)]}function et(t,e,n,r){let o=n?n.call(r,t,e):void 0;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const s=Object.keys(t),a=Object.keys(e);if(s.length!==a.length)return!1;const c=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<s.length;u++){const l=s[u];if(!c(l))return!1;const p=t[l],f=e[l];if(o=n?n.call(r,p,f,l):void 0,o===!1||o===void 0&&p!==f)return!1}return!0}function tt(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ni(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Mi(t){return(e=null,n=null)=>{if(!i.isValidElement(e)){const s=e;return t(s,n),s}const r=e;return Ni(r),_i(r,n?s=>t(s,n):t)}}function mn(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const o=Mi(r);e[n]=()=>o}}),e}function Pt(t,e){typeof t=="function"?t(e):t.current=e}function _i(t,e){const n=t.ref;return w(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?i.cloneElement(t,{ref:r=>{Pt(n,r),Pt(e,r)}}):i.cloneElement(t,{ref:e})}class Ai{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!et(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!et(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=mn({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,tt(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,tt(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Fi{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!et(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=mn({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,tt(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function ue(){const{dragDropManager:t}=i.useContext(on);return w(t!=null,"Expected drag drop context"),t}function Li(t,e){const n=ue(),r=i.useMemo(()=>new Ai(n.getBackend()),[n]);return ie(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),ie(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function ji(){const t=ue();return i.useMemo(()=>new Si(t),[t])}class ki{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,o=this.monitor,{isDragging:s}=r;return s?s(o):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:o}=e;o&&o(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function Ui(t,e,n){const r=i.useMemo(()=>new ki(t,e,n),[e,n]);return i.useEffect(()=>{r.spec=t},[t]),r}function Hi(t){return i.useMemo(()=>{const e=t.type;return w(e!=null,"spec.type must be defined"),e},[t])}function Bi(t,e,n){const r=ue(),o=Ui(t,e,n),s=Hi(t);ie(function(){if(s!=null){const[c,u]=Ri(s,o,r);return e.receiveHandlerId(c),n.receiveHandlerId(c),u}},[r,e,n,o,s])}function vn(t,e){const n=hn(t,e);w(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=ji(),o=Li(n.options,n.previewOptions);return Bi(n,r,o),[pn(n.collect,r,o),Ci(o),Ti(o)]}function Gi(t){const n=ue().getMonitor(),[r,o]=gn(n,t);return i.useEffect(()=>n.subscribeToOffsetChange(o)),i.useEffect(()=>n.subscribeToStateChange(o)),r}function Ki(t){return i.useMemo(()=>t.hooks.dropTarget(),[t])}function Wi(t){const e=ue(),n=i.useMemo(()=>new Fi(e.getBackend()),[e]);return ie(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function zi(){const t=ue();return i.useMemo(()=>new Ii(t),[t])}function Vi(t){const{accept:e}=t;return i.useMemo(()=>(w(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class qi{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function Xi(t,e){const n=i.useMemo(()=>new qi(t,e),[e]);return i.useEffect(()=>{n.spec=t},[t]),n}function Yi(t,e,n){const r=ue(),o=Xi(t,e),s=Vi(t);ie(function(){const[c,u]=Pi(s,o,r);return e.receiveHandlerId(c),n.receiveHandlerId(c),u},[r,e,o,n,s.map(a=>a.toString()).join("|")])}function Qi(t,e){const n=hn(t,e),r=zi(),o=Wi(n.options);return Yi(n,r,o),[pn(n.collect,r,o),Ki(o)]}function bn(t){let e=null;return()=>(e==null&&(e=t()),e)}function Zi(t,e){return t.filter(n=>n!==e)}function Ji(t,e){const n=new Set,r=s=>n.add(s);t.forEach(r),e.forEach(r);const o=[];return n.forEach(s=>o.push(s)),o}class ea{enter(e){const n=this.entered.length,r=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=Ji(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=Zi(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class ta{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const o=this.config.exposeProperties[r];o!=null&&(n[r]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Dn="__NATIVE_FILE__",En="__NATIVE_URL__",$n="__NATIVE_TEXT__",yn="__NATIVE_HTML__",Rt=Object.freeze(Object.defineProperty({__proto__:null,FILE:Dn,HTML:yn,TEXT:$n,URL:En},Symbol.toStringTag,{value:"Module"}));function Ke(t,e,n){const r=e.reduce((o,s)=>o||t.getData(s),"");return r??n}const nt={[Dn]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[yn]:{exposeProperties:{html:(t,e)=>Ke(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[En]:{exposeProperties:{urls:(t,e)=>Ke(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[$n]:{exposeProperties:{text:(t,e)=>Ke(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function na(t,e){const n=nt[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new ta(n);return r.loadDataTransfer(e),r}function We(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(nt).filter(n=>{const r=nt[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const ra=bn(()=>/firefox/i.test(navigator.userAgent)),xn=bn(()=>!!window.safari);class Nt{interpolate(e){const{xs:n,ys:r,c1s:o,c2s:s,c3s:a}=this;let c=n.length-1;if(e===n[c])return r[c];let u=0,l=a.length-1,p;for(;u<=l;){p=Math.floor(.5*(u+l));const d=n[p];if(d<e)u=p+1;else if(d>e)l=p-1;else return r[p]}c=Math.max(0,l);const f=e-n[c],g=f*f;return r[c]+o[c]*f+s[c]*g+a[c]*f*g}constructor(e,n){const{length:r}=e,o=[];for(let d=0;d<r;d++)o.push(d);o.sort((d,b)=>e[d]<e[b]?-1:1);const s=[],a=[];let c,u;for(let d=0;d<r-1;d++)c=e[d+1]-e[d],u=n[d+1]-n[d],s.push(c),a.push(u/c);const l=[a[0]];for(let d=0;d<s.length-1;d++){const b=a[d],m=a[d+1];if(b*m<=0)l.push(0);else{c=s[d];const y=s[d+1],E=c+y;l.push(3*E/((E+y)/b+(E+c)/m))}}l.push(a[a.length-1]);const p=[],f=[];let g;for(let d=0;d<l.length-1;d++){g=a[d];const b=l[d],m=1/s[d],y=b+l[d+1]-g-g;p.push((g-b-y)*m),f.push(y*m*m)}this.xs=e,this.ys=n,this.c1s=l,this.c2s=p,this.c3s=f}}const oa=1;function wn(t){const e=t.nodeType===oa?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function we(t){return{x:t.clientX,y:t.clientY}}function sa(t){var e;return t.nodeName==="IMG"&&(ra()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function ia(t,e,n,r){let o=t?e.width:n,s=t?e.height:r;return xn()&&t&&(s/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:s}}function aa(t,e,n,r,o){const s=sa(e),c=wn(s?t:e),u={x:n.x-c.x,y:n.y-c.y},{offsetWidth:l,offsetHeight:p}=t,{anchorX:f,anchorY:g}=r,{dragPreviewWidth:d,dragPreviewHeight:b}=ia(s,e,l,p),m=()=>{let k=new Nt([0,.5,1],[u.y,u.y/p*b,u.y+b-p]).interpolate(g);return xn()&&s&&(k+=(window.devicePixelRatio-1)*b),k},y=()=>new Nt([0,.5,1],[u.x,u.x/l*d,u.x+d-l]).interpolate(f),{offsetX:E,offsetY:x}=o,O=E===0||E,C=x===0||x;return{x:O?E:y(),y:C?x:m()}}class ca{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function ua(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){ua(t,o,n[o])})}return t}class la{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const o=a=>this.handleDragStart(a,e),s=a=>this.handleSelectStart(a);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",s),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=a=>this.handleDragEnter(a,e),o=a=>this.handleDragOver(a,e),s=a=>this.handleDrop(a,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",o),n.addEventListener("drop",s),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",o),n.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return Mt({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return Mt({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Rt).some(n=>Rt[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=na(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const s=this.sourceNodes.get(o);return s&&wn(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const a=we(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:c}=o,u=We(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const p=this.monitor.getSourceId(),f=this.sourceNodes.get(p),g=this.sourcePreviewNodes.get(p)||f;if(g){const{anchorX:d,anchorY:b,offsetX:m,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),O=aa(f,g,a,{anchorX:d,anchorY:b},{offsetX:m,offsetY:y});c.setDragImage(g,O.x,O.y)}}try{c==null||c.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:l}=this.getCurrentSourcePreviewNodeOptions();l?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(c&&!c.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:c}=o,u=We(c);u&&this.beginDragNativeItem(u,c)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,s.length>0&&this.actions.hover(s,{clientOffset:we(o)}),s.some(c=>this.monitor.canDropOnTarget(c))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=we(o),this.scheduleHover(s),(s||[]).some(c=>this.monitor.canDropOnTarget(c))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;o.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(o.dataTransfer)}else We(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:we(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const s=o.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(o.preventDefault(),s.dragDrop()))},this.options=new ca(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new ea(this.isNodeInDocument)}}let Oe;function On(){return Oe||(Oe=new Image,Oe.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Oe}const da=function(e,n,r){return new la(e,n,r)};function ae({file:t,className:e,style:n}){const r=j($=>$.selectedFile),o=j($=>$.setSelectedFile),s=j($=>$.activeRange),a=j($=>$.setActiveRange),c=j($=>$.inActiveRange),u=Fe($=>$.addTab),l=Fe($=>$.selectTab),p=Fe($=>$.createTab),[f,g]=i.useState(!1),d=jt(()=>g(!0),{threshold:50,onFinish(){g(!1)},onCancel(){g(!1)}}),{setArtifactRename:b,renameArtifact:m,artifactRename:y,selectArtifactsInRange:E,removeArtifactWithConfirmation:x}=Ie(),[O,C]=i.useState(!1),[{isDragging:F},k,T]=vn(()=>({type:"artifact",item:t,end(){g(!1)},canDrag(){return y!==t&&f},collect($){return{isDragging:$.isDragging()}}}),[t,y,f]);i.useEffect(()=>{T(On(),{captureDraggingState:!0})},[T]);function I($){$.stopPropagation(),$.shiftKey&&$.preventDefault();let P=s;$.metaKey?(c(t)?P=P.filter(X=>X!==t):P.push(t),a(P)):$.shiftKey&&P.length>0?E(t):(P.length>0&&(P=[]),P.push(t),a(P),o(t))}function M(){const $=p(t);u($),l($)}const A=s.length>1&&c(t);return h.jsx("div",{...d,ref:k,children:h.jsxs(Q.Container,{artifact:t,isSelected:r===t,className:L(y===t&&"bg-primary-10",O&&"bg-primary-10",f&&"bg-primary-10 !cursor-grabbing outline-2 !outline-primary-500",F&&"opacity-50",e),style:n,onDoubleClick:$=>{$.stopPropagation(),M()},handleSelect:I,children:[h.jsx(ae.Icons,{}),y===t?h.jsx(Q.Rename,{artifact:y,rename:m,close:()=>b(void 0)}):h.jsxs(Q.ContextMenu,{trigger:h.jsx(Q.ContextMenuTrigger,{children:h.jsx(ae.Display,{file:t})}),onOpenChange:C,children:[r!==t&&h.jsxs(Y,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",A?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:A,onClick:$=>{$.stopPropagation()},onSelect:$=>{$.stopPropagation(),M()},children:["Open in New Tab",h.jsx("div",{className:"ml-auto pl-5"})]}),h.jsxs(Y,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",A?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:A,onClick:$=>{$.stopPropagation()},onSelect:$=>{$.stopPropagation(),b(t)},children:["Rename",h.jsx("div",{className:"ml-auto pl-5"})]}),h.jsxs(Y,{className:"py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-danger-500 hover:bg-danger-500 hover:text-light",onSelect:$=>{$.stopPropagation(),x(t)},children:["Remove ",c(t)?s.length:"",h.jsx("div",{className:"ml-auto pl-5"})]})]})]})})}function fa({file:t}){return h.jsx("span",{title:t.name,className:L("inline-block overflow-hidden overflow-ellipsis py-[0.125rem]"),children:_t(t.name,50,20)})}function ga(){return h.jsx("div",{className:"flex items-center",children:h.jsx(pr,{className:"inline-block w-3 ml-1 mr-2"})})}ae.Display=fa;ae.Icons=ga;const me=function t({directory:e,className:n,style:r}){const o=j(D=>D.selectedFile),s=j(D=>D.activeRange),a=j(D=>D.setActiveRange),c=j(D=>D.inActiveRange),[u,l]=i.useState(e.isOpened),[p,f]=i.useState(!1),[g,d]=i.useState(!1),b=jt(()=>d(!0),{threshold:50,onFinish(){d(!1)},onCancel(){d(!1)}}),{setArtifactRename:m,renameArtifact:y,artifactRename:E,createDirectory:x,createFile:O,moveArtifacts:C,removeArtifactWithConfirmation:F,selectArtifactsInRange:k}=Ie(),[{isOver:T},I]=Qi(()=>({accept:"artifact",drop(D,v){if(W(v.canDrop()))return;const S=c(D)?s:[D];C(S,e),e.open()},canDrop(D,v){const S=c(D)?s:[D];return v.isOver({shallow:!0})&&jn(S)&&S.reduce((_,B)=>!(W(_)||B.parent===e||B===e||B instanceof ze&&B.hasDirectory(e)),!0)},collect(D){return{isOver:D.isOver({shallow:!0})&&D.canDrop()}}}),[s]),[{isDragging:M},A,$]=vn(()=>({type:"artifact",item:e,end(){d(!1)},canDrag(){return E!==e&&g},collect(D){return{isDragging:D.isDragging()}}}),[e,E,g]),[P,X,U,H]=i.useMemo(()=>{if(s.length<2)return[!1,!1,!1,!1];let D=!0,v=!0,S=!0;for(const _ of Array.from(s))_ instanceof ze&&D?(v&&(v=_.isOpened),S&&(S=_.isClosed)):D=!1;return[D,v,S,W(v)&&W(S)]},[s]);i.useEffect(()=>{e.syncStateOpen=l},[e]),i.useEffect(()=>{$(On(),{captureDraggingState:!0})},[$]),i.useEffect(()=>{Ln(o)||u||e.hasFile(o)&&e.open()},[o]);function le(D){D.stopPropagation(),D.shiftKey||D.metaKey?D.preventDefault():e.toggle();let v=s;D.metaKey?(c(e)?v=v.filter(S=>S!==e):v.push(e),a(v)):D.shiftKey&&v.length>0?k(e):(v.length>0&&(v=[]),v.push(e),a(v))}const K=s.length>1&&c(e);return h.jsx("div",{className:L("h-full",M&&"opacity-50"),children:h.jsxs("div",{ref:I,className:L(T&&W(M)&&"bg-primary-5"),children:[e.withParent&&h.jsx("div",{...b,ref:e.withParent?A:void 0,children:h.jsxs(Q.Container,{artifact:e,className:L(E===e&&"bg-primary-10",g&&"bg-primary-10 !cursor-grabbing",p&&"bg-primary-10",n),style:r,handleSelect:le,children:[h.jsx(t.Icons,{isOpen:u||T&&W(M)}),E===e?h.jsx(Q.Rename,{artifact:E,rename:y,close:()=>m(void 0)}):h.jsxs(Q.ContextMenu,{trigger:h.jsx(Q.ContextMenuTrigger,{children:h.jsx(t.Display,{directory:e})}),onOpenChange:f,children:[h.jsxs(Y,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",K&&W(P)?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:K&&W(P),onSelect:D=>{D.stopPropagation(),s.length>1&&c(e)?s.forEach(v=>{X?v.collapse():U?v.expand():H&&(v.isOpened?v.collapse():v.expand())}):e.isOpened?e.collapse():e.expand(),a([])},children:[P&&X&&"Collapse All",P&&U&&"Expand All",P&&H&&"Toggle All",W(P)&&e.isOpened&&"Collapse",W(P)&&e.isClosed&&"Expand",h.jsx("div",{className:"ml-auto pl-5"})]}),h.jsx($t,{className:"h-[1px] bg-accent-200 m-2"}),h.jsxs(Y,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",K?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:K,onSelect:D=>{D.stopPropagation(),O(e)},children:["New File",h.jsx("div",{className:"ml-auto pl-5"})]}),h.jsxs(Y,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",K?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:K,onSelect:D=>{D.stopPropagation(),x(e)},children:["New Folder",h.jsx("div",{className:"ml-auto pl-5"})]}),h.jsx($t,{className:"h-[1px] bg-accent-200 m-2"}),h.jsxs(Y,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",K?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:K,onClick:D=>{D.stopPropagation()},onSelect:D=>{D.stopPropagation(),m(e)},children:["Rename",h.jsx("div",{className:"ml-auto pl-5"})]}),h.jsxs(Y,{className:"py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-danger-500 hover:bg-danger-500 hover:text-light",onSelect:D=>{D.stopPropagation(),F(e)},children:["Remove ",c(e)?s.length:"",h.jsx("div",{className:"ml-auto pl-5"})]})]})]})}),(T&&W(M)||u||!e.withParent)&&e.withDirectories&&h.jsx("ul",{className:L(c(e)&&"bg-primary-5"),children:e.directories.map(D=>h.jsx("li",{title:D.name,children:h.jsx(t,{directory:D,style:{paddingLeft:e.withParent?`${e.level/2+.25}rem`:0}},D.id)},D.id))}),(T&&W(M)||u||!e.withParent)&&e.withFiles&&h.jsx("ul",{className:L(c(e)&&"bg-primary-5"),children:e.files.map(D=>h.jsx("li",{title:D.name,children:h.jsx(ae,{file:D,style:{paddingLeft:e.withParent?`${e.level/2+.25}rem`:0}},D.id)},D.id))})]})})};function pa({directory:t}){return h.jsxs("div",{className:"w-full flex justify-between items-center py-[0.125rem]",children:[h.jsx("span",{title:t.name,className:"overflow-hidden overflow-ellipsis whitespace-nowrap",children:_t(t.name,50,20)}),h.jsx("span",{className:"inline-block text-xs rounded-full px-2 bg-neutral-10 ml-2",children:t.directories.length+t.files.length})]})}function ha({hasChevron:t=!0,hasFolder:e=!0,isOpen:n=!1,className:r}){const o=n?lr:dr,s=n?vr:Er;return h.jsxs("div",{className:L("flex items-center mr-2",r),children:[t&&h.jsx(o,{className:"inline-block w-5"}),e&&h.jsx(s,{className:"inline-block w-4 fill-primary-500"})]})}me.Icons=ha;me.Display=pa;const ma={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function va(){const t=j(a=>a.activeRange),e=j(a=>a.inActiveRange),{isDragging:n,currentOffset:r,artifact:o}=Gi(a=>({artifact:a.getItem(),isDragging:a.isDragging(),currentOffset:a.getSourceClientOffset()})),s=i.useMemo(()=>Array.from(e(o)?t:new Set([o])).filter(Boolean),[t,o]);return h.jsx(h.Fragment,{children:n&&h.jsx("div",{style:ma,children:h.jsx("div",{style:ba(r),className:"!cursor-grabbing !rounded-lg overflow-hidden",children:s.map(a=>h.jsxs("span",{children:[a instanceof ze&&h.jsxs(Q.Container,{artifact:a,className:"bg-theme",children:[h.jsx(me.Icons,{hasChevron:!1}),h.jsx(me.Display,{directory:a})]},a.path),a instanceof cr&&h.jsxs(Q.Container,{artifact:a,className:"bg-theme",children:[h.jsx(ae.Icons,{}),h.jsx(ae.Display,{file:a})]},a.path)]},a.id))})})})}function ba(t){if(t==null)return{display:"none"};const{x:e,y:n}=t;return{display:"inline-block",transform:`translate(${e}px, ${n}px)`,filter:"drop-shadow(0 2px 12px rgba(0,0,0,0.45))"}}const be=function t({className:e}){const n=j(g=>g.project),r=j(g=>g.setSelectedFile),o=j(g=>g.activeRange),s=j(g=>g.setActiveRange),a=kn(g=>g.addConfirmation),{isFetching:c}=Un(),{removeArtifacts:u,createDirectory:l,createFile:p}=Ie();function f(g){g.key==="Escape"&&s([]),g.ctrlKey&&g.key==="Backspace"&&o.length>0&&a({headline:"Removing Selected Files/Directories",description:`Are you sure you want to remove ${o.length} items?`,yesText:"Yes, Remove",noText:"No, Cancel",details:Array.from(o).map(d=>d.path),action:()=>{u(o)}})}return h.jsx("div",{tabIndex:0,className:L("flex flex-col w-full h-full overflow-hidden text-sm text-neutral-500 dark:text-neutral-400 font-regular select-none",e),onKeyDown:f,children:c?h.jsx("div",{className:"flex justify-center items-center w-full h-full",children:h.jsxs(Hn,{className:"inline-block",children:[h.jsx(Bn,{className:"w-3 h-3 border border-neutral-10 mr-2"}),h.jsx("h3",{className:"text-md",children:"Getting Project Files..."})]})}):h.jsxs(h.Fragment,{children:[h.jsx(ur,{list:n.allFiles,searchBy:"path",displayBy:"name",size:Gn.sm,onSelect:r,direction:"top",isFullWidth:!0}),h.jsxs(t.ContextMenu,{trigger:h.jsx(t.ContextMenuTrigger,{className:"h-full pb-1",children:h.jsx(Ei,{backend:da,children:h.jsxs("div",{className:"w-full relative h-full px-1 overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical",children:[h.jsx(va,{}),h.jsx(me,{className:"z-20 relative",directory:n},n.id)]})})}),children:[h.jsxs(Y,{className:"py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 hover:bg-accent-500 hover:text-light",onSelect:g=>{g.stopPropagation(),p(n)},children:["New File",h.jsx("div",{className:"ml-auto pl-5"})]}),h.jsxs(Y,{className:"py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 hover:bg-accent-500 hover:text-light",onSelect:g=>{g.stopPropagation(),l(n)},children:["New Folder",h.jsx("div",{className:"ml-auto pl-5"})]})]},n.id)]})})};function Da({trigger:t,children:e,onOpenChange:n}){return h.jsxs(es,{onOpenChange:n,children:[t,h.jsx(ns,{children:h.jsx(rs,{className:"bg-light rounded-md overflow-hidden shadow-lg py-2 px-1 z-50",onClick:r=>{r.stopPropagation()},children:e})})]})}function Ea({children:t,className:e}){return h.jsx(ts,{className:L("flex w-full overflow-hidden",e),onContextMenu:n=>{n.stopPropagation()},children:t})}function $a({artifact:t,rename:e,close:n}){const r=Kn.useRef(null),[o,s]=i.useState("");return i.useEffect(()=>{s(t.name),setTimeout(()=>{var a;(a=r.current)==null||a.focus()},100)},[t]),h.jsx("div",{className:"w-full flex items-center py-[0.125rem] pr-2",children:h.jsx("input",{ref:r,type:"text",className:"w-full overflow-hidden overflow-ellipsis bg-primary-900 text-primary-100",value:o,onInput:a=>{a.stopPropagation(),s(a.target.value)},onBlur:a=>{a.stopPropagation(),n()},onKeyDown:a=>{a.key==="Enter"&&(a.stopPropagation(),o.trim()!==""&&o!==t.name&&e(t,o),n()),a.key==="Escape"&&(a.stopPropagation(),n())}})})}function ya({artifact:t,children:e,isSelected:n=!1,className:r,style:o,handleSelect:s,onDoubleClick:a}){const{setArtifactRename:c,isBottomGroupInActiveRange:u,isTopGroupInActiveRange:l,isMiddleGroupInActiveRange:p}=Ie(),f=j(d=>d.activeRange),g=j(d=>d.inActiveRange);return h.jsx("span",{tabIndex:0,className:L("w-full flex items-center group/file px-2",r,l(t)?"rounded-t-md":u(t)?"rounded-b-md":p(t)?"":g(t)&&"rounded-md",g(t)&&f.length>1&&f.indexOf(t)<f.length-1?"border-b border-primary-400":"border-b border-transparent",g(t)?"bg-primary-10 dark:bg-primary-20":n&&"rounded-md bg-neutral-10 text-neutral-600 dark:bg-dark-lighter dark:text-primary-500"),style:o,onClick:s,onDoubleClick:a,onKeyDown:d=>{d.key==="Enter"&&(d.stopPropagation(),c(t),s==null||s(d)),d.key===" "&&(d.stopPropagation(),s==null||s(d))},children:e})}be.ContextMenu=Da;be.ContextMenuTrigger=Ea;be.Rename=$a;be.Container=ya;const Q=be;export{Q as default};

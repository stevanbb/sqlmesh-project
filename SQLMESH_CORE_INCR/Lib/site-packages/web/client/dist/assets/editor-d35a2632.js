import{aA as S,a1 as R,aB as Q,v as s,b as m}from"./index-176b79a9.js";import{M as h}from"./file-d5b08b04.js";const c="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGwobil7cmV0dXJuIG49PT0hMX1mdW5jdGlvbiB3KG4pe3JldHVybiBuPT09IiJ9ZnVuY3Rpb24geShuKXtyZXR1cm4gYShuKXx8dyhuKX1mdW5jdGlvbiBhKG4pe3JldHVybiBuPT1udWxsfWZ1bmN0aW9uIEQoLi4ubil7cmV0dXJuIG4uZmlsdGVyKEJvb2xlYW4pLmpvaW4oIl9fIil9Y29uc3Qgcj17VXBzdHJlYW06InVwc3RyZWFtIixEb3duc3RyZWFtOiJkb3duc3RyZWFtIn0sbT1zZWxmO20ub25tZXNzYWdlPWFzeW5jIG49PntpZihuLmRhdGEudG9waWM9PT0ibGluZWFnZSIpdHJ5e2NvbnN0e2N1cnJlbnRMaW5lYWdlOnQsbmV3TGluZWFnZTpzLG1haW5Ob2RlOm99PW4uZGF0YS5wYXlsb2FkLGU9YXdhaXQgZyh0LHMpLGM9YXdhaXQgTihvLGUpO20ucG9zdE1lc3NhZ2Uoe3RvcGljOiJsaW5lYWdlIixwYXlsb2FkOntsaW5lYWdlOmUsbm9kZXNDb25uZWN0aW9uczpjfX0pfWNhdGNoKHQpe20ucG9zdE1lc3NhZ2Uoe3RvcGljOiJlcnJvciIsZXJyb3I6dH0pfX07YXN5bmMgZnVuY3Rpb24gZyhuPXt9LHQ9e30pe3JldHVybiBPYmplY3QuZW50cmllcyh0KS5yZWR1Y2UoKHMsW28sZT1bXV0pPT57dmFyIGM7cmV0dXJuIG89ZW5jb2RlVVJJKG8pLHNbb109e21vZGVsczplLm1hcChlbmNvZGVVUkkpLGNvbHVtbnM6KChjPW49PW51bGw/dm9pZCAwOm5bb10pPT1udWxsP3ZvaWQgMDpjLmNvbHVtbnMpPz92b2lkIDB9LHN9LHt9KX1hc3luYyBmdW5jdGlvbiBOKG4sdD17fSl7cmV0dXJuIG5ldyBQcm9taXNlKChzLG8pPT57aWYoYSh0KXx8YShuKSlyZXR1cm57fTtjb25zdCBlPXt9O3RyeXtmKHIuVXBzdHJlYW0sbix0LGUpLGYoci5Eb3duc3RyZWFtLG4sdCxlKX1jYXRjaChjKXtvKGMpfXMoZSl9KX1mdW5jdGlvbiBmKG49ci5Eb3duc3RyZWFtLHQscz17fSxvPXt9KXt2YXIgdTtjb25zdCBlPW49PT1yLkRvd25zdHJlYW07bGV0IGM9W107ZT9jPU9iamVjdC5rZXlzKHMpLmZpbHRlcihpPT5zW2ldLm1vZGVscy5pbmNsdWRlcyh0KSk6Yz0oKHU9c1t0XSk9PW51bGw/dm9pZCAwOnUubW9kZWxzKT8/W10sbCh0IGluIG8pJiYob1t0XT1kKCkpO2Zvcihjb25zdCBpIG9mIGMpe2NvbnN0IHA9ZT9kKHQsaSxbb1t0XV0pOmQoaSx0LFtvW3RdXSk7aSBpbiBvP29baV0uZWRnZXMucHVzaChwKToob1tpXT1wLGYobixpLHMsbykpfX1mdW5jdGlvbiBkKG4sdCxzPVtdKXtjb25zdCBvPUQobix0KTtyZXR1cm57aWQ6eShvKT92b2lkIDA6byxlZGdlczpzfX19KSgpOwo=",i=typeof window<"u"&&window.Blob&&new Blob([atob(c)],{type:"text/javascript;charset=utf-8"});function k(){let a;try{if(a=i&&(window.URL||window.webkitURL).createObjectURL(i),!a)throw"";return new Worker(a)}catch{return new Worker("data:application/javascript;base64,"+c)}finally{a&&(window.URL||window.webkitURL).revokeObjectURL(a)}}const V="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGc9c2VsZjtpbXBvcnQoImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9weW9kaWRlL3YwLjIzLjIvZnVsbC9weW9kaWRlLmpzIikudGhlbigoKT0+e2NvbnN0IGM9cygpO2cub25tZXNzYWdlPWFzeW5jIGE9Pnt2YXIgaSxsLHQ7Y29uc3R7c3FsZ2xvdDpDfT1hd2FpdCBjO2lmKGEuZGF0YS50b3BpYz09PSJ2YWxpZGF0ZSIpe2xldCBJO3RyeXtJPUpTT04ucGFyc2UoKGk9Qy5nZXQoInZhbGlkYXRlIikpPT1udWxsP3ZvaWQgMDppKGEuZGF0YS5wYXlsb2FkKSl9Y2F0Y2h7ST0hMX1nLnBvc3RNZXNzYWdlKHt0b3BpYzoidmFsaWRhdGUiLHBheWxvYWQ6SX0pfWlmKGEuZGF0YS50b3BpYz09PSJkaWFsZWN0Iil7bGV0IEk7dHJ5e0k9SlNPTi5wYXJzZSgobD1DLmdldCgiZ2V0X2RpYWxlY3QiKSk9PW51bGw/dm9pZCAwOmwoYS5kYXRhLnBheWxvYWQpKX1jYXRjaHtJPXtrZXl3b3JkczoiIix0eXBlczoiIn19Zy5wb3N0TWVzc2FnZSh7dG9waWM6ImRpYWxlY3QiLHBheWxvYWQ6SX0pfWlmKGEuZGF0YS50b3BpYz09PSJkaWFsZWN0cyIpe2xldCBJO3RyeXtJPUpTT04ucGFyc2UoQy5nZXQoImRpYWxlY3RzIikpfWNhdGNoe0k9W119Zy5wb3N0TWVzc2FnZSh7dG9waWM6ImRpYWxlY3RzIixwYXlsb2FkOkl9KX1hLmRhdGEudG9waWM9PT0iZm9ybWF0IiYmZy5wb3N0TWVzc2FnZSh7dG9waWM6ImZvcm1hdCIscGF5bG9hZDooKHQ9Qy5nZXQoImZvcm1hdCIpKT09bnVsbD92b2lkIDA6dChhLmRhdGEucGF5bG9hZC5zcWwsYS5kYXRhLnBheWxvYWQuZGlhbGVjdCkpPz8iIn0pLGEuZGF0YS50b3BpYz09PSJpbml0IiYmZy5wb3N0TWVzc2FnZSh7dG9waWM6ImluaXQifSl9fSkuY2F0Y2goY29uc29sZS5lcnJvcik7YXN5bmMgZnVuY3Rpb24gcygpe2cucHlvZGlkZT1hd2FpdCBnLmxvYWRQeW9kaWRlKCksYXdhaXQgZy5weW9kaWRlLmxvYWRQYWNrYWdlKCJtaWNyb3BpcCIpO2NvbnN0IGM9Zy5weW9kaWRlLnB5aW1wb3J0KCJtaWNyb3BpcCIpO2F3YWl0IGMuaW5zdGFsbCgic3FsZ2xvdCIpLGF3YWl0IGMuaW5zdGFsbCgidHlwaW5nLWV4dGVuc2lvbnMiKTtjb25zdCBhPWF3YWl0KGF3YWl0IGZldGNoKG5ldyBVUkwoImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCxhVzF3YjNKMElHcHpiMjRLQ21sdGNHOXlkQ0J6Y1d4bmJHOTBDbVp5YjIwZ2MzRnNaMnh2ZENCcGJYQnZjblFnWlhod0NtWnliMjBnYzNGc1oyeHZkQzVrYVdGc1pXTjBjeTVrYVdGc1pXTjBJR2x0Y0c5eWRDQkVhV0ZzWldOMExDQkVhV0ZzWldOMFZIbHdaUW9LWkdsaGJHVmpkSE1nUFNCcWMyOXVMbVIxYlhCektBb2dJQ0FnV3dvZ0lDQWdJQ0FnSUhzS0lDQWdJQ0FnSUNBZ0lDQWdJbVJwWVd4bFkzUmZkR2wwYkdVaU9pQWlVMUZNUjJ4dmRDSWdhV1lnWkdsaGJHVmpkQ0E5UFNBaUlpQmxiSE5sSUdScFlXeGxZM1JmWTJ4aGMzTXVYMTl1WVcxbFgxOHNDaUFnSUNBZ0lDQWdJQ0FnSUNKa2FXRnNaV04wWDI1aGJXVWlPaUJrYVdGc1pXTjBMQW9nSUNBZ0lDQWdJSDBLSUNBZ0lDQWdJQ0JtYjNJZ1pHbGhiR1ZqZEN3Z1pHbGhiR1ZqZEY5amJHRnpjeUJwYmlCRWFXRnNaV04wTG1Oc1lYTnpaWE11YVhSbGJYTW9LUW9nSUNBZ1hRb3BDZ29LWkdWbUlIQmhjbk5sWDNSdlgycHpiMjRvYzNGc09pQnpkSElzSUhKbFlXUTZJRVJwWVd4bFkzUlVlWEJsSUQwZ1RtOXVaU2tnTFQ0Z2MzUnlPZ29nSUNBZ2NtVjBkWEp1SUdwemIyNHVaSFZ0Y0hNb0NpQWdJQ0FnSUNBZ1cyVjRjQzVrZFcxd0tDa2dhV1lnWlhod0lHVnNjMlVnZTMwZ1ptOXlJR1Y0Y0NCcGJpQnpjV3huYkc5MExuQmhjbk5sS0hOeGJDd2djbVZoWkQxeVpXRmtMQ0JsY25KdmNsOXNaWFpsYkQwaWFXZHViM0psSWlsZENpQWdJQ0FwQ2dvS1pHVm1JR2RsZEY5a2FXRnNaV04wS0c1aGJXVTZJSE4wY2lBOUlDSWlLU0F0UGlCemRISTZDaUFnSUNCa2FXRnNaV04wSUQwZ1JHbGhiR1ZqZEM1amJHRnpjMlZ6TG1kbGRDaHVZVzFsTENCRWFXRnNaV04wS1FvZ0lDQWdhMlY1ZDI5eVpITWdQU0JrYVdGc1pXTjBMblJ2YTJWdWFYcGxjbDlqYkdGemN5NUxSVmxYVDFKRVV3b2dJQ0FnZEhsd1pWOXRZWEJ3YVc1bklEMGdaR2xoYkdWamRDNW5aVzVsY21GMGIzSmZZMnhoYzNNdVZGbFFSVjlOUVZCUVNVNUhDZ29nSUNBZ2NtVjBkWEp1SUdwemIyNHVaSFZ0Y0hNb0NpQWdJQ0FnSUNBZ2V3b2dJQ0FnSUNBZ0lDQWdJQ0FpYTJWNWQyOXlaSE1pT2lBaUlDSXVhbTlwYmloclpYbDNiM0prY3lrc0NpQWdJQ0FnSUNBZ0lDQWdJQ0owZVhCbGN5STZJQ0lnSWk1cWIybHVLSFI1Y0dWZmJXRndjR2x1Wnk1blpYUW9kQ3dnZEM1MllXeDFaU2tnWm05eUlIUWdhVzRnWlhod0xrUmhkR0ZVZVhCbExsUjVjR1VwTEFvZ0lDQWdJQ0FnSUgwS0lDQWdJQ2tLQ2dwa1pXWWdabTl5YldGMEtITnhiRG9nYzNSeUlEMGdJaUlzSUhKbFlXUTZJRVJwWVd4bFkzUlVlWEJsSUQwZ1RtOXVaU2tnTFQ0Z2MzUnlPZ29nSUNBZ2NtVjBkWEp1SUNKY2JpSXVhbTlwYmlnS0lDQWdJQ0FnSUNCemNXeG5iRzkwTG5SeVlXNXpjR2xzWlNoemNXd3NJSEpsWVdROWNtVmhaQ3dnWlhKeWIzSmZiR1YyWld3OWMzRnNaMnh2ZEM1bGNuSnZjbk11UlhKeWIzSk1aWFpsYkM1SlIwNVBVa1VzSUhCeVpYUjBlVDFVY25WbEtRb2dJQ0FnS1FvS0NtUmxaaUIyWVd4cFpHRjBaU2h6Y1d3NklITjBjaUE5SUNJaUxDQnlaV0ZrT2lCRWFXRnNaV04wVkhsd1pTQTlJRTV2Ym1VcElDMCtJSE4wY2pvS0lDQWdJSFJ5ZVRvS0lDQWdJQ0FnSUNCemNXeG5iRzkwTG5SeVlXNXpjR2xzWlNnS0lDQWdJQ0FnSUNBZ0lDQWdjM0ZzTENCeVpXRmtQWEpsWVdRc0lIQnlaWFIwZVQxR1lXeHpaU3dnZFc1emRYQndiM0owWldSZmJHVjJaV3c5YzNGc1oyeHZkQzVsY25KdmNuTXVSWEp5YjNKTVpYWmxiQzVKVFUxRlJFbEJWRVVLSUNBZ0lDQWdJQ0FwQ2lBZ0lDQmxlR05sY0hRZ2MzRnNaMnh2ZEM1bGNuSnZjbk11VUdGeWMyVkZjbkp2Y2pvS0lDQWdJQ0FnSUNCeVpYUjFjbTRnYW5OdmJpNWtkVzF3Y3loR1lXeHpaU2tLQ2lBZ0lDQnlaWFIxY200Z2FuTnZiaTVrZFcxd2N5aFVjblZsS1FvS0Nuc0tJQ0FnSUNKa2FXRnNaV04wY3lJNklHUnBZV3hsWTNSekxBb2dJQ0FnSW1kbGRGOWthV0ZzWldOMElqb2daMlYwWDJScFlXeGxZM1FzQ2lBZ0lDQWljR0Z5YzJWZmRHOWZhbk52YmlJNklIQmhjbk5sWDNSdlgycHpiMjRzQ2lBZ0lDQWlkbUZzYVdSaGRHVWlPaUIyWVd4cFpHRjBaU3dLSUNBZ0lDSm1iM0p0WVhRaU9pQm1iM0p0WVhRc0NuMEsiLHNlbGYubG9jYXRpb24pKSkudGV4dCgpO3JldHVybiBnLnBvc3RNZXNzYWdlKHt0b3BpYzoiaW5pdCJ9KSx7c3FsZ2xvdDpnLnB5b2RpZGUucnVuUHl0aG9uKGEpfX19KSgpOwo=",Z=typeof window<"u"&&window.Blob&&new Blob([atob(V)],{type:"text/javascript;charset=utf-8"});function X(){let a;try{if(a=Z&&(window.URL||window.webkitURL).createObjectURL(Z),!a)throw"";return new Worker(a)}catch{return new Worker("data:application/javascript;base64,"+V)}finally{a&&(window.URL||window.webkitURL).revokeObjectURL(a)}}const F=X(),[r,p]=S("tabs"),{tabs:J=[],id:U}=r()??{},o=N(),Y=G(o),w=new Map([[o,Y]]),I=R((a,W)=>({storedTabs:J,storedTabId:U,tab:Y,tabs:w,engine:F,dialects:[],previewQuery:void 0,previewTable:void 0,previewDiff:void 0,direction:"vertical",inTabs(l){return W().tabs.has(l)},replaceTab(l,d){const e=W(),b=Array.from(e.tabs.entries()),t=b.findIndex(([n])=>n===l.file);b[t]=[d.file,d],a(()=>({tabs:new Map(b)})),e.updateStoredTabsIds()},updateStoredTabsIds(){const l=W();if(s(l.tab)){p({id:void 0,tabs:[]}),a(()=>({storedTabId:void 0,storedTabs:[]}));return}const d=[];for(const b of l.tabs.values())m(b.file.isChanged)&&b.file.isLocal||d.push({id:b.file.id,content:b.file.content});const e=l.tab.file.isChanged||l.tab.file.isRemote?l.tab.file.id:void 0;p({id:e,tabs:d}),a(()=>({storedTabId:e,storedTabs:d}))},refreshTab(l){s(l)||W().selectTab({...l})},setDialects(l){a(()=>({dialects:l}))},selectTab(l){const d=W();a(()=>({tab:l})),d.updateStoredTabsIds()},addTabs(l){const d=W();for(const e of l)d.tabs.set(e.file,e);a(()=>({tabs:new Map(d.tabs)}))},addTab(l){const d=W();if(d.tabs.has(l.file))d.tabs.set(l.file,l),a(()=>({tabs:new Map(d.tabs)}));else{const e=Array.from(d.tabs.entries()),b=e.findIndex(([t])=>{var n;return t===((n=d.tab)==null?void 0:n.file)});e.splice(b<0?e.length:b+1,0,[l.file,l]),a(()=>({tabs:new Map(e)}))}d.updateStoredTabsIds()},closeTab(l){var e;const d=W();if(l.removeChanges(),d.tabs.delete(l),d.tabs.size===0)d.selectTab(void 0);else if(d.tabs.size===1){const b=Array.from(d.tabs.values());d.selectTab(b.at(0))}else if(l.id===((e=d.tab)==null?void 0:e.file.id)){const b=Array.from(d.tabs.values()),t=b.findIndex(n=>n.file===l);d.selectTab(b.at(t-1))}a(()=>({tabs:new Map(d.tabs)})),d.updateStoredTabsIds()},createTab:G,setPreviewQuery(l){a(()=>({previewQuery:l}))},setPreviewTable(l){a(()=>({previewTable:l}))},setPreviewDiff(l){a(()=>({previewDiff:l}))},setDirection(l){a(()=>({direction:l}))}}));function G(a=N()){return{id:Q(),file:a,isValid:!0}}function N(a){return new h({id:a,name:"",path:"",content:`-- Create arbitrary SQL queries
-- and execute them against different environments

`})}export{k as W,N as c,F as s,I as u};

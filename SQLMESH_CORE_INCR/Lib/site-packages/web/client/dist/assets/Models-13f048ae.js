import{x as B,Q as M,s as $,a as d,r as x,t as L,v as m,i as h,j as s,D as b,G as F,g as T,m as E,H as z,U as K,a9 as P,O as A,e as O,b as R}from"./index-176b79a9.js";import{b as k,m as w,n as C,o as D,p as G,f as H,g as I,S as U}from"./SearchList-a958facb.js";import{P as Q}from"./Page-fac9d8c9.js";import{g as W}from"./context-4c50fddd.js";import{u as f}from"./project-e6dc9a02.js";import"./Input-a01139a4.js";import"./help-68063aae.js";import"./transition-19ed7834.js";import"./SplitPane-94158256.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./editor-d35a2632.js";import"./file-d5b08b04.js";import"./SourceList-a47c6829.js";import"./index-ae36976e.js";function ne({route:g=O.Home}){const{pathname:j}=B(),{modelName:i}=M(),u=$(),l=d(e=>e.models),r=d(e=>e.lastSelectedModel),N=d(e=>e.setLastSelectedModel),p=f(e=>e.files),S=f(e=>e.setSelectedFile),n=x.useMemo(()=>Array.from(new Set(l.values())),[l]),{isFetching:c}=L(),t=`${g}/models`,a=m(i)||i===(r==null?void 0:r.name)?r:l.get(encodeURI(i));x.useEffect(()=>{if(m(a))return;const e=p.get(a.path);h(e)&&S(e),N(a),u(`${t}/${a.name}`,{replace:!0})},[p,a,t]);const v=m(a)&&h(i)&&R(c);return s.jsx(Q,{sidebar:b(n)?void 0:s.jsx(k,{"update-selector":"tbk-model-name",children:s.jsx(w,{selectable:!0,onChange:e=>u(e.detail.value),className:"pt-3 px-2",children:Object.entries(C.categorize(n)).map(([e,y])=>s.jsx(D,{headline:e,open:!0,children:y.map(o=>s.jsx(G,{size:"xs","hide-icon":!0,active:j===`${t}/${o.name}`,value:`${t}/${o.name}`,"search-value":o.displayName,compact:!0,children:s.jsx(H,{"hide-schema":!0,"hide-catalog":!0,"hide-tooltip":!0,text:o.displayName,children:s.jsx(I,{size:"2xs",slot:"after",children:W(o.type)})})},o.name))},e))})}),content:s.jsx(F.Page,{children:s.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[T(n)&&s.jsx(U,{list:n,size:E.lg,searchBy:"index",displayBy:"displayName",to:e=>`${t}/${e.name}`,direction:"top",className:"p-2",isFullWidth:!0,disabled:c}),s.jsx(z,{}),v?s.jsx(K,{link:t,message:"Go Back",description:`Model "${i}" not found.`}):c?s.jsx(P,{children:"Loading Model page..."}):s.jsx(A,{})]})})})}export{ne as default};
